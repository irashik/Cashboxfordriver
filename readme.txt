Приложение создано для водителя такси.

В нем можно заносить полученную выручку
Учитывать заправленое топливо, пробег, доп. расходы.
Все данные формируются в ежедневные отчеты, которые можно просматривать.


 Программа позволяет записывать, хранить и просматривать информацию по сменам. \n
        Она умеет записывать данные по смене (пробег, фамилию, позывной, фиксирует время начала смены,
        время окончания, расход бензина, прочие расходы и оставлять комменатрии) и позволяет
        записывать полученные платежи, с дальнейшей выдачей подробного отчета по смене.



Как его подключить к вкладке Android??

Сегодня 31 августа 2017 года.

Хочу записать что предстоит (планирую) сделать для приложения.

Первый этап - запустить приложение
Второй этап - отладка приложения (попробовать с тестами)
Третий этап - создания дизайна приложения
Четвертый этап - запуск тестов приложения и размещение его в github (или в другом месте) настройка git.
Пятый этап - презентация приложения и сбор статистики отзывов, предложений...
Шестой корректировка приложения в соотвтетсии с обратной связью.
Пока всЁ - дальше не знаю что. Но думаю на этом этапе главное работоспособное приложение - и его использование.



 Сегодня работаю пока над первым этапом.

 Что сделать?
 1. Настроить взаимодействие баз данных
 2. Настроить работу списков
 3. Наладить переключение между фрагментами



Задачи:
 - почитать про Junit тестирование
 - разобраться почитать про стили оформление
 - разобраться с версиями андроид sdk api и поддержкой. (вопрос кто такие старые версии).
 - переработать дизайн активити ввода информации (от 2 окт).
 - выход из приложения и его сворачивание.




 Задачи ближайшие:
 -


 чТО МОЖНО СДЕЛАТЬ (В БУДУЩЕМ):
 - ПЕРЕДелать отображения списков через CardView - там вроде как настроек по дизайну больше




Использую библиотек (не использую support v.4)


Учесть краш приложение и возврат доступа к базе данных и продолжения редактирования.


Проблемы и задачи от 7 сентября.

- в маин фрагменте выбираются сразу несколько радиобуттон, не переключаются.
- не открывается фрагмент payments (Fragment_payments)
- cсписко смен не открывается (приложение крашиться)


9 сентября (даже раньше) приложение запистил, исправив ошибки (с недостающими методами)
работаю над реализацией отдельных методов.

- наладил клас по рабботе с вводимыми данными, реализовал почти все методы для кнопок.
- теперь нужно поработать с классом для базы данных.


12 сентября 2017 года.
Проблема - не работает адаптер для списка смен. выдает ошибку о передаче нулевого объекта.
во связке с лоадером - загрузчикмо.
18 cсенбяря - так и не разобрался с проблемой. Разбираюсь в классе загрузчиков и курсор лоадера.
20 сентября - разбирался с загрузчиком. - проблема в том что Loader yне работает по умолчанию c rEcyclerViw
загрузил отдельный класс библиотеку в тестовом модуле заработал.

переписал класс с загрузчиком - но не работает пока.
21 cсентября - заработал - проблема была в том что в методе onInBackground нужно было создать
подключение к базе данных для чтения данных


21.09.
Следующий этап - сделать реализацию открытия отчета с загруженными данными
+ реализацию открытия отчета из списка смен.
(похоже не записывается время окончания смены)
25,09. занимаю тем что хочу сделать получение id из списка recycleview
27.09 - решил проблему с передачей переменной в другой класс. Также запрашивается и возвраащается курсор с данными. (нашел ошибку с окончанием смены).
2.10 - решил проблему - вопрос с вызовом фрагмента из адаптера.
Осталось:
открытие report из input_info -- передача id.
допилить дизайн активити инпут
сделать восстановление данных в активит инпут если уйти со страницы и вернуться

2.10
Следующий этап - реализация работы с payment базой.
Шаги: 1. Реализация создания таблицы с именем из другой базы
2. Реализация создания множества таблиц
3. Настройка заполнения таблиц из main fragment
4. реализация закрытия таблицы из активити инпут
5. реализация получения данных из нужной таблицы в активити репорт.
6. настройка адаптера для списка платежей.


13.10 вернулся к проекту
это время разбирался с ACRA и couchDB. Общая картина сложилась, для работы, нужно либо свой сервер, либо аренда VPS либо
cloudant ibm либо smileupps.com - мне больше понравился smuleupps.

14.10
работаю над методами fragment main
-- убрать нижнее меню при вызове клавиатуры в input_info

19.10
-- убрать нижнее меню пока не получилось достаточно сложно, оно в принципе и не мешает
сделал сохранение данных при переключении фрагментов
что сделать:
устранить крах приложения при попытки зайти в main fragment & payment (сдеть так чтобы отображалась надпись).


-- добавить исключение когда сразу после создания смены перейти в отчет - а там нет для этого
отчета созданной таблицы платежей.
-- поработать над завершением смены.

-- нужно выполнить: когда после начала смены - создается таблица пайментс
, потом обратно попадаю в инпут инфо - он должен загрузить название созданной таблицы в базу
 т.е. нужно иметь название таблицы свежесозданной в базе (таблице воркдай).
-- надо понаблюдать. не было краха при тесте. Данные о таблице записываются в базу сразу по созданию.


-- нужно передать через parclt значение TextView timestart & timeend
потому что поля edit text сохраняются a поле textView приводится в первоначальный вид.
а потом восстановить их. или через bundle


20.10
-- предусмотреть чтобы после завершении смены нельзя было добавить платежи.
закрыть базу данных. также подумать что делать со списком платежей после закрытия.
(сделал так что если смена не начата нельзя открыть вкладки платежей и списка платежей.)

-- протестировать - выявить ситуации падения приложения. - записать и проработать.

     +-- после окончания смены доступен фрагмент записи платежей и список платежей
     ** может тут реализовать открытие фрагмента с передачей bundle
     ** а в инпутинфо установить opengang = false ?
     ** теперь при выходе из репорта данные пропадают. думаю сделать чтобы были данные последней
     ** смены.
     ** теперь по завершении смены отчет не знает где брать номер id




     +-- после окончания смены что делать с репортом? оставить до следующей смены или вызова из списка?
       -- думаю чтобы сделать так - при открытии репорт (по окончании смены)
          он сохранялся и при переключении вкладки (зачем)? ведь я могу упопасть только на
          инпут инфо. а если я туда попаду - можно пройти в выбор смен и нажать просмотр.
          -- где сохранить переменную чтобы был доступ к ней? в бундле.
          -- пока оставил как есть. (может в будущем можно добавить логику чтобы открывал последнюю смену).


     +--добавить линию прокрути к спискам платежей и смен
     +-- выполнить реализацию редактирования смены (нужно ли) -
        -- задать условия редактирования для fragment_input_info
          +-- сделать фон и добавить текст
           -- какая логика выхода оттуда. (выход по нажатию на кнопку "редкактирование")
        -- открытие баз данных
        -- открытие смены - заполнение полей в инпут_инфо
        0-- возможность добавить платежи (не реализовал эту возможность когда смена уже закрыта). (думаю не надо).
        -- окончание по нажатию на завершение смены.
     +-- проверить реализацию при повышении версии базы данных (реализовать удаление таблиц или баз данных).
     +-- реализовать изменение уже записанного платежа (из списка).
        -- взятие id
        -- открытие fragment main с пометкой редактирование
        -- метод update.payment.  - который может менять  сумму или тип
        -- по нажатию записать (изменить) закрытие фрагмента и попадание в список обратно.

    +-- проблема перезаписи всех строк в таблице workday


21.10. добавил заметок что нужно сделать. доработал метод update.workday.

   -- проработать методы Upgrade DB. - удаление таблиц и их создание поновой. (как минимум).
   --

24.10 - в прошлый раз поправил код - сейчас буду заниматься отладкой кода по этим пунктам.

25.10

   +-- реализовать возможность восстановления текущей смены (в случае краха) (протестировать)

   +-- падает при просмотре смены после редактирования по System.exti(10). Exception

26.10

  +-- реализовал метол onUpgrade - при повышении версии БД - все таблицы удаляются.

  +-- отображение клавиатуры при вызове приложения и переклчения фрагментов (input & main).




  +-- оформить активити "О Программе"
     -- Имя разработчика
     -- емейл разработчика
     -- лицензию ПО
     -- Имя программы и ее версию
     -- год выпуска программы
  +-- найти (придумать) иконку для программы




 30.10

  +-- убрать нижнее меню (скрыть) когда появляется клавиатура.

  +-- поставить диалоговое окно с предупреждением при попытке выйти из приложения.
    -- какая обработка кнопки back? ((потом, добавить логику о предупреждении в том случае если
    смена открыта).

  +-- сбой при попытке в начале загрузки, нажать на иконку нижнего меню ввод информации, когда уже открыт
      этот фрагмент.

  +-- после возобновления смены аргумент по восстановлению передается в фрагмент инпут, но после
      этого не удаляется. и фрагмент работате по логике восстановления. (он восстанавливает view, тем
      самым обходя методы onCreateView

31.10.
  работа по предыдущим записям.

  0-- настроить литералы для  работы с валютой (округление до сотых).
    -- какой тип данных нужно (можно) использовать?


1-11
   +-- Добавить в разметку инпут инфо максимальную количество строк в полях
   +-- Увеличить шрифт там же
   +-- Убрать редактирование смен
   -- поправить дизайн приложения

   +--  написать мануал - поредактировать, убрать лишнее, сделать сжатым.
   +-- реализовать сбособ сбора информации об ошибках
      -- crashlytics fabric io
   +-- возможность отпарвить сообщение разработчику
      -- httpost --> server --> mail

   11.11

   +-- еще раз протестировать (на разных моделях экранах, api).
   -- почистить код от логов, просмотреть, где и как можно оптимизировать.

   -- продумать презентацию приложения. (написать текст, порепетировать)

   -- подумать о скачивании обновлении
     -- залить на сервер и дать ссылку
     -- google pay
     -- сбособы обновления приложения удаленно?


18.11
Презентовал программу в такси (был Дима механик). В целом приложение оказалось кстати, дима сказал что круто
были еще два водителя, сразу захотели попробовать. Дима сказал что поговорит с руководством (возможно
премируют, сказал что было бы интересно реализовать отправку отчетов (заменить отчетные листки). Я ему
ответил что можно сделать.
Сказал что пусть обкатают приложение, есть техподдвержка, можно писать.


Уже получил первых отчет о крахе.

--Приложение получает крах когда запрошено возобновление смены, но последних смен нет.

-- необходимо допилить под большие дисплеи планшета
-- почему то на эмуляторе 4.3.1 - не запускается.





